1. 实现：用逻辑删除后可注册同名用户 &&  用户注册事务处理，解决并发问题（2025.6.18完成）

问题：**用逻辑删除后可注册同名用户，那“用户名唯一性校验”，**经典陷阱**：**逻辑删除的用户仍然可能阻止新用户注册相同用户名**，或者**导致唯一索引冲突**

最终方案：(user_name, is_del, del_version)唯一索引兜底+redis分布式锁（锁粒度按用户名）并发控制，确保最终一致性

is_del按Java通用开发手册，取值范围为0,1

参考：mybatisplus的方法：将逻辑删除字段改为时间类型  或者  (user_name, is_del, del_version) 符合数据库范式

其他方案：**分离表方案**（活跃/历史数据分表存储，跨表操作的原子性与**删除时间**）；


[](https://)

2.用户通过账号+密码登录系统，获取 Access Token 和 Refresh Token，用于后续身份验证。

3.首次使用系统时创建账号，需邮箱验证码验证，创建成功后可直接登录或跳转登录流程。
