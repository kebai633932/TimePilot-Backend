基于MyBatis-Plus,的笔记管理模块

数据持久层,文件/图片存储,富文本编辑器,定时任务,异步与事件驱动,搜索服务(Elasticsearch)

## 用户操作行为与使用场景对照表（Note Management）


| 编号     | 用户行为 / 动作                    | 使用场景说明                                                           |
| -------- | ---------------------------------- | ---------------------------------------------------------------------- |
| 1/（v2） | 新建笔记(指定模板笔记（v2）)       | 用户点击“新建笔记”按钮，初始化空白笔记<br /><br /><br />指定模板笔记 |
| 2        | 编辑笔记内容                       | 用户进入编辑器界面，实时修改笔记标题与正文内容                         |
| 3        | 自动保存笔记草稿                   | 编辑过程中触发定时自动保存草稿（如每 30 分钟一次）                     |
| 4        | 手动保存笔记                       | 用户点击“保存”按钮                                                   |
| 5        | 查看笔记                           | 用户查看自己的笔记，或查看他人设置为公开的笔记                         |
| 6        | 删除笔记                           | 用户将笔记移入“回收站”，标记为软删除状态                             |
| 7        | 从回收站恢复笔记                   | 用户从回收站列表中选择某条笔记恢复至正常状态                           |
| 8        | 彻底删除笔记                       | 用户在回收站中选择“永久删除”操作，数据彻底删除<br />                 |
| 9        | 设置笔记公开 / 私密                | 用户切换笔记的权限状态，决定是否允许他人访问                           |
| (v2)     | 分享笔记链接(v2)                   | 公开笔记可生成短链或二维码，供外部查看                                 |
| 11       | 移动笔记/文件夹到指定文件夹        | 用户拖拽或在详情页设置笔记所属文件夹                                   |
| 12       | 创建文件夹(可嵌套最多3次)          | 用户添加新的笔记文件夹，可作为笔记分类管理                             |
| 13       | 删除 / 重命名文件夹                | 用户对已有文件夹执行管理操作                                           |
| 14       | 笔记搜索（关键词 / 标签 / 内容）   | 用户通过输入关键词快速定位相关笔记                                     |
| 15       | 收藏笔记（自己 / 他人）            | 用户将重要或喜欢的笔记加入收藏夹以便后续查看                           |
| （v3）   | 查看历史版本 / 恢复历史内容        | 用户查看笔记的变更历史，或恢复至指定版本内容                           |
| 17       | 上传 / 插入图片或附件              | 用户在富文本编辑器中插入本地文件（图片、PDF 等）                       |
| 18       | 导出笔记（PDF / Markdown）         | 用户将笔记导出为指定格式进行备份或打印                                 |
| 19       | 标签管理（添加 / 删除 / 筛选）     | 用户给笔记添加标签以实现更高效的分类和搜索                             |
| 20       | 批量操作（批量移动 / 删除 / 导出） | 用户在笔记列表中多选笔记进行集中操作                                   |

## **阶段 1：必须完成，保证主流程闭环（优先级最高）**

核心目标：用户能完整地新建、编辑、保存、查看、删除、分类笔记，完成笔记生命周期闭环。


| 编号 | 接口名                                | 必须实现理由                     |
| ---- | ------------------------------------- | -------------------------------- |
| 1    | 新建笔记（1）                         | 入口起点，必须有                 |
| 2    | 编辑笔记内容（2）                     | 基础 CRUD                        |
| 3    | 手动保存笔记（4）                     | 写入功能核心                     |
| 4    | 查看笔记（5）                         | 读取功能核心                     |
| 5    | 删除笔记（软删）（6）                 | 实现笔记回收站前置条件           |
| 6    | 移动到文件夹（11）                    | 用户内容归类管理                 |
| 7    | 创建 / 删除 / 重命名文件夹（12 / 13） | 支持 6                           |
| 8    | 笔记搜索（14）                        | 快速检索能力                     |
| 9    | 上传附件（17）                        | 丰富笔记内容形式                 |
| 10   | 批量操作（20）                        | 提升效率，适配多选操作           |
| 11   | 设置公开 / 私密（9）                  | 涉及权限控制                     |
| 12   | 标签管理（19）                        | 标签是增强搜索和分类的关键元数据 |

## **阶段 2：提升体验（可并行推进）**

增强体验，但不影响主流程闭环。可以等 CRUD 跑通后再来处理。


| 编号 | 接口名                | 必须实现理由           |
| ---- | --------------------- | ---------------------- |
| 13   | 自动保存草稿（3）     | 降低数据丢失风险       |
| 14   | 收藏（15）            | 常见用户行为           |
| 15   | 分享笔记链接（10）    | 限于公开笔记，提升传播 |
| 16   | 从回收站恢复笔记（7） | 与软删搭配使用         |
| 17   | 永久删除（8）         | 数据最终删除逻辑       |

## **阶段 3：加分项，最后再考虑（可预留接口）**


| 编号 | 接口名                        | 说明                          |
| ---- | ----------------------------- | ----------------------------- |
| 18   | 导出为 PDF / Markdown（18）   | 提升便捷性，适合内容沉淀      |
| 19   | 查看历史版本 / 恢复内容（16） | 可视为“草稿+版本控制”进阶版 |


黑马点评的点赞，评论，排行榜
