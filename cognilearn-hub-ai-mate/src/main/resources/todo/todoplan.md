ai笔记助手模块

## 用户操作行为与使用场景对照表 - AI 笔记助手模块


| 编号 | 用户行为 / 动作         | 使用场景说明                                                                                                 | 实现阶段 |
| ---- | ----------------------- | ------------------------------------------------------------------------------------------------------------ | -------- |
| 1    | 语义搜索笔记内容        | 用户输入自然语言问题（如“介绍 Redis 缓存击穿”），AI 在用户笔记中进行语义匹配，找出相关内容而非仅关键词匹配 | MVP      |
| 2    | 自动生成笔记标签        | 用户完成笔记后，AI 自动提取关键主题词（如“Java”、“分布式”、“缓存优化”），用于笔记分类与快速检索        | MVP      |
| 3    | 语法纠错与语言润色      | 用户在编辑笔记时可点击“一键润色”，AI 自动优化语法与表达，提升可读性与专业性（支持中英文）                  | MVP      |
| 4    | 一键生成复习卡片        | 用户基于笔记生成问答卡片，如选择题、填空题，便于自测和记忆巩固（支持 AI 问题生成）                           | MVP      |
| 5    | 个性化知识推荐          | 根据用户笔记内容、阅读频率、遗忘曲线模型，推荐复习优先级或补充材料                                           | v3       |
| 6    | 文字转流程图 / 思维导图 | 用户提供结构化描述或笔记段落，AI 自动生成流程图、思维导图等图形表示内容                                      | v3       |
| 7    | 总结冗长笔记为重点      | 用户可请求将长笔记浓缩为3句话或5个重点，用于快速回顾与知识强化                                               | v2       |

后续：

（跨模态内容分析）

### 优先实现：MVP 阶段（1\~4）

准备秋招，要快好多，不省

这阶段目标是：**提升笔记的智能性与辅助性**，围绕用户的编辑与检索体验来增强。

RAG 的检索（Retrieval）部分  mcp自动发帖


| 顺序 | 编号 | 功能               | 优先级理由                                                          |
| ---- | ---- | ------------------ | ------------------------------------------------------------------- |
|      | 2    | 自动生成笔记标签   | 简单好做，基于关键字提取，直接提升组织与搜索能力。                  |
| ②   | 1    | 语义搜索笔记内容   | 搜索是基础能力，使用词向量/embedding + ANN 索引即可实现初版。       |
| ③   | 3    | 语法纠错与语言润色 | 可以先对接 GPT 或开源模型，提升内容质量，体验感强。                 |
| ④   | 4    | 一键生成复习卡片   | 对应具体知识点有较强价值，但稍复杂，可用 prompt 工具链实现 MVP 版。 |

---

### 🔁 第二阶段实现：v3（5\~7）

这些功能更“智能”但实现复杂、依赖更多上下文处理，适合作为进阶功能补充：


**定时任务**

* 每天定时触发（比如早上 9 点）
* 生成学习总结 / 笔记内容
* **ChatClient**

  * 向 AI 发 Prompt（例如：“帮我总结今天学习的 Kafka 知识”）
  * AI 生成一篇文章/笔记
* **MCP Server**

  * `Note MCP Server`：调用笔记系统 API → `createNote`，存入数据库
  * `CSDN MCP Server`（可选）：调用博客平台 API → 自动发帖


| 顺序 | 编号 | 功能                    | 优先级理由                                                               |
| ---- | ---- | ----------------------- | ------------------------------------------------------------------------ |
| ⑤   | 7    | 总结冗长笔记为重点      | 技术上较易，prompt 调用 + 压缩逻辑，但价值不如上面 4 个功能。            |
| ⑥   | 5    | 个性化知识推荐          | 需要数据收集（笔记结构 + 行为日志），再进行建模和分析，周期长。          |
| ⑦   | 6    | 文字转流程图 / 思维导图 | 要 NLP + 结构解析 + 图形生成（如 Mermaid），是 AI 与可视化结合，较复杂。 |

AI 客服助手

### 功能建议与接口拆解


| 编号 | 功能             | 用户行为描述                 | 实现说明                                             |
| ---- | ---------------- | ---------------------------- | ---------------------------------------------------- |
| 1    | 问题识别         | 用户输入自然语言问题         | 使用语义搜索（匹配已定义FAQ + 启发式模型）或接入 GPT |
| 2    | 智能回复         | 针对关键词 / 问句回答        | 接入提示词引导、文档摘要、模型接口                   |
| 3    | 场景引导         | 用户输入“如何分享笔记？”   | 高亮分享按钮，或跳转帮助页面                         |
| 4    | 上下文对话       | 支持对话连续性               | 用 sessionId / conversationId 管理上下文             |
| 5    | 联系人工（可选） | 问题无匹配答案时提示人工渠道 | MVP 可暂不做，可保留扩展入口                         |

AI复习笔记系统更AI Agent


| 维度       | 小傅哥Ai Agent项目思路                | 在AI复习笔记系统的借鉴和应用                       |
| ---------- | ------------------------------------- | -------------------------------------------------- |
| 架构设计   | 动态配置，顾问角色，多节点客户端      | 多角色AI助手，模块解耦，方便扩展和维护             |
| 任务流程   | 规划-执行-监督-交付的智能动态决策流程 | 学习任务分解，实时反馈，动态调整学习计划           |
| 数据库设计 | 灵活库表结构，支持多类型Agent配置     | 设计笔记多维度关系，支持多版本和语义索引           |
| AI技术     | RAG、MCP服务对接，日志智能分析        | 语义检索+知识增强，学习行为日志分析与改进建议      |
| 交互体验   | SSE流式反馈，步骤节点可视化           | AI思考流式展示，步骤拆分让用户理解AI答题逻辑       |
| 持续优化   | 不断优化Prompt设计                    | 设计高质量Prompt模板，积累训练数据，提升AI复习效果 |

客户端每定时隔一段时间发送请求，获取参数

sse实时推送，服务端长连接发送给客户端，客户端监听，轻量

websocket 全双工通信
